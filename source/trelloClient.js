!function(){var t={version:1,apiEndpoint:"https://api.trello.com",authEndpoint:"https://trello.com",key:"1e9099f8056922e2437ec2a600e0c2a1"};!function(){var e,i,n,s,o,r=[].slice;e={},s={},o=function(t,i){return null!=s[t]?i(s[t]):(null!=e[t]?e[t]:e[t]=[]).push(i)},n=function(t,i){var n,o,r,a;if(s[t]=i,e[t])for(o=e[t],delete e[t],r=0,a=o.length;a>r;r++)n=o[r],n(i)},i=function(t){return"function"==typeof t},function(t,e,s){var a,l,d,c,g,h,u,p,v,f,m,x,S,b,w,T,P;for(h=s.key,m=s.token,l=s.apiEndpoint,d=s.authEndpoint,x=s.version,g=""+l+"/"+x+"/",p=t.location,a={version:function(){return x},key:function(){return h},setKey:function(t){h=t},token:function(){return m},setToken:function(t){m=t},rest:function(){var t,i,n,o;return i=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],o=v(t),n=o[0],t=o[1],s={url:""+g+n,type:i,data:{},dataType:"json",async:!1,success:o[2],error:o[3]},e.support.cors||(s.dataType="jsonp","GET"!==i&&(s.type="GET",e.extend(s.data,{_method:i}))),h&&(s.data.key=h),m&&(s.data.token=m),null!=t&&e.extend(s.data,t),e.ajax(s)},authorized:function(){return null!=m},deauthorize:function(){m=null,S("token",m)},authorize:function(i){var n,r,a,l,d;if(s=e.extend(!0,{type:"redirect",persist:!0,interactive:!0,scope:{read:!0,write:!1,account:!1},expiration:"30days"},i),i=/[&#]?token=([0-9a-f]{64})/,r=function(){return s.persist&&null!=m?S("token",m):void 0},s.persist&&null==m&&(m=f("token")),null==m&&(m=null!=(d=i.exec(p.hash))?d[1]:void 0),this.authorized())return r(),p.hash=p.hash.replace(i,""),"function"==typeof s.success?s.success():void 0;if(!s.interactive)return"function"==typeof s.error?s.error():void 0;switch(a=function(){var t,e;t=s.scope,e=[];for(n in t)(l=t[n])&&e.push(n);return e}().join(","),s.type){case"popup":!function(){var e,i,n,l;return o("authorized",function(t){return t?(r(),"function"==typeof s.success?s.success():void 0):"function"==typeof s.error?s.error():void 0}),e=t.screenX+(t.innerWidth-420)/2,n=t.screenY+(t.innerHeight-470)/2,i=null!=(l=/^[a-z]+:\/\/[^\/]*/.exec(p))?l[0]:void 0,t.open(c({return_url:i,callback_method:"postMessage",scope:a,expiration:s.expiration,name:s.name}),"trello","width=420,height=470,left="+e+",top="+n)}();break;default:t.location=c({redirect_uri:p.href,callback_method:"fragment",scope:a,expiration:s.expiration,name:s.name})}}},P=["GET","PUT","POST","DELETE"],b=function(t){return a[t.toLowerCase()]=function(){return this.rest.apply(this,[t].concat(r.call(arguments)))}},w=0,T=P.length;T>w;w++)l=P[w],b(l);for(a.del=a["delete"],P="actions cards checklists boards lists members organizations lists".split(" "),b=function(t){return a[t]={get:function(e,i,n,s){return a.get(""+t+"/"+e,i,n,s)}}},w=0,T=P.length;T>w;w++)l=P[w],b(l);t.Trello=a,c=function(t){return d+"/"+x+"/authorize?"+e.param(e.extend({response_type:"token",key:h},t))},v=function(t){var e,n,s;return n=t[0],e=t[1],s=t[2],t=t[3],i(e)&&(t=s,s=e,e={}),n=n.replace(/^\/*/,""),[n,e,s,t]},l=function(t){var e;t.origin===d&&(null!=(e=t.source)&&e.close(),m=null!=t.data&&4<t.data.length?t.data:null,n("authorized",a.authorized()))},u=t.localStorage,null!=u?(f=function(t){return u["trello_"+t]},S=function(t,e){return null===e?delete u["trello_"+t]:u["trello_"+t]=e}):f=S=function(){},"function"==typeof t.addEventListener&&t.addEventListener("message",l,!1)}(window,jQuery,t)}.call(this)}();